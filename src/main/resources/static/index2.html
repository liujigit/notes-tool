<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <title>sdk issues</title>
    <style>
        html,body, #vditor {
            width: 100%;
            height: 100%;
            margin-top: 1rem;
            padding: 0;
        }
        #vditor {
            width: 100%;
            height: 100%;
            margin-top: 2rem;
        }

        .vditor-reset {
            border: 1px solid #efefef;
        }
    </style>
	<script src="https://cdn.jsdelivr.net/npm/vconsole@3.14.7/dist/vconsole.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/vditor@3.9.2/dist/index.css" />
    <script src="https://unpkg.com/vditor@3.9.2/dist/index.min.js"></script>
</head>
<body>
<div class="vditor-reset nav">
    <a href="https://b3log.org/vditor" target="_blank">官网</a> &nbsp; &nbsp;
    <a href="/render.html">Render</a> &nbsp; &nbsp;
    <button onclick="window.vditor.setTheme('dark', 'dark',  'native');document.querySelector('body').style.backgroundColor='#2f363d'">
        Dark Mode
    </button> &nbsp; &nbsp;
    <button onclick="window.vditor.setTheme('light', 'light', 'github');document.querySelector('body').style.backgroundColor=''">
        Light Mode
    </button> &nbsp; &nbsp;
    <select autocomplete="off" onchange="setLang(this.value)">
        <option selected="selected" value="zh_CN">zh_CN</option>
        <option value="zh_TW">zh_TW</option>
        <option value="en_US">en_US</option>
        <option value="fr_FR">fr_FR</option>
        <option value="pt_BR">pt_BR</option>
        <option value="ru_RU">ru_RU</option>
        <option value="sv_SE">sv_SE</option>
        <option value="ja_JP">ja_JP</option>
        <option value="ko_KR">ko_KR</option>
    </select>
</div>
<div id="vditor"></div>
<script>
    let toolbar = [
        'headings' , 'bold' , 'italic' , 'strike' , '|',
        'list' , 'ordered-list' ,'check' ,'outdent' ,'indent' , '|',
        'line' , 'quote' , 'code' , 'inline-code','link' , 'table', '|' ,
        'undo' , 'redo', 'export',  'both'
    ]

    function getId(){
        var urlSearchParams = new URLSearchParams(window.location.search);
        return urlSearchParams.get('id');
    }
    console.log(getId());
    var vditor = new Vditor('vditor', {
        height: '100%',
        width:'auto',
        mode: 'wysiwyg',  //sv, ir, wysiwyg
        theme: 'wechat', //dark、classic
        icon: 'ant', // material
        toolbar:null,
        outline: {
            enable: false,
            position: 'left',
        },
        cache:{
            enable:true,
            id:'vditor-'+getId()
        },
        debugger: false,
        typewriterMode: true,
        placeholder: '',
        preview: {
            theme:{
                current:'light'
            },
            markdown: {
                toc: false,
                mark: false,
                footnotes: true,
                autoSpace: true,
            },
            math: {
                engine: 'KaTeX',
            },
        },
        toolbarConfig: {
            pin: true,
        },
        counter: {
            enable: true,
            type: 'text',
        },
        tab: '\t',
    })
</script>
</body>
</html>